{
	"ì•ˆë…•?": (e) => {
		let rtn = null;
		let num = sbot.variable.global_hello_stack[e.author.tag];
		if ( num ) {
			num = parseInt(num, 10);
			switch(num++) {
				case 1: {
					rtn = `${e.author.nickname} ë‹˜. ì•„ê¹Œ ì¸ì‚¬í•˜ì§€ ì•Šì•˜ë‚˜ìš”?`;
				} break;
				case 2: {
					rtn = `${e.author.nickname} ë‹˜. ì´ë²ˆì´ ${num} ë²ˆ ì§¸ ì¸ì‚¬í•˜ëŠ” ê±°ì˜ˆìš”.`;
				} break;
				case 3: {
					rtn = `í•œ ë²ˆë§Œ ë” í•˜ë©´ ì¸ì‚¬ ì•ˆ ë°›ì•„ì¤„ ê±°ì˜ˆìš”. ${e.author.nickname} ë‹˜.`;
				} break;
				case 4: {
					rtn = 'í¥!';
				} break;
			}
			sbot.variable.global_hello_stack[e.author.tag] = num;
		} else {
			// first
			sbot.variable.global_hello_stack[e.author.tag] = 1;
			rtn = `ì•ˆë…•í•˜ì„¸ìš”. ${e.author.nickname} ë‹˜!`;
		}
		return rtn;
	}, 
	"ì•ˆë…•í•˜ì‚´ë²•!": "ì•ˆë…•í•˜ì‚´ë²• ë°›ì•„ì¹˜ê¸°!",
	"ë°˜ê°€ì›Œ!": e => `ì €ë„ ë§Œë‚˜ì„œ ë°˜ê°€ì›Œìš” ${e.author.nickname} ë‹˜~`,
	"ì‚¬ëž‘í•´": e => {
		let str = "";
		let loveTree = {
			"VLYPZL": "ì•Œì•„. ì‚¬ëž‘í•´.", //ì€ì •
			"angel__25": e => {
				setTimeout(() => {
					sbot.send("ë‚´ê°€ ë” ë§Žì´. í•˜ëŠ˜ë§Œí¼ ë•…ë§Œí¼ ìš°ì£¼ë§Œí¼ ì‚¬ëž‘í•´.");
				}, 10000);
				return "ë‚˜ë„";
			},
			"11_11": e => {
				setTimeout(() => {
					sbot.send("ê·¸ëŸ¬ë‹ˆê¹Œ ë¹¨ë¦¬ ì¶•êµ¬ë‹¨ ë§Œë“¤ëŸ¬ ê°€ìž.");
				}, 1000);
				return "ë‚˜ë„ ì‚¬ëž‘í•´";
			},
			"3.hee": "ì•¼. ê°€ë¼.",
			"2soo_______": e => {
				if ( isMySOPIA(e.author.id) ) {
					sbot.variable.personalMessages["ìª¼ì•„"] = "ìª¼ì•„ê°€ ì ¤ ìª¼ì•„";
					return "ì›…. ë‚˜ë„ ìª¼ì•„í•´."
				} else {
					return "ë§ˆì´ì— ë‚´ê°€ ì—†ëŠ”ë°...?"
				}
			}
		};
		
		if (loveTree[e.author.tag]) {
			str = loveTree[e.author.tag];
			if ( typeof loveTree[e.author.tag] === "function" ) {
				str = loveTree[e.author.tag](e);
			}
		} else {
			str = `ë¯¸ì•ˆ ${e.author.nickname}. ë„Œ ì•„ë‹ˆì•¼.`;
		}
		return str;
	},
	"ì¢‹ì•„í•´": e => {
		if ( e.author.tag === "11_11" ) {
			return 'ë‚´ë§˜ ì•Œì§€?'
		}
		return `ì•„... ì €ëŠ” ì¢€ ìƒê°í•  ì‹œê°„ì´ í•„ìš”í•œ ê²ƒ ê°™ì•„ìš”. ${e.author.nickname} ë‹˜.`
	},
	"ì‹«ì–´í•´": "ì–´ì©Œë¼ê³ ",
	"ì†Œí”¼ì•„": "ìŠ¤í‘¼ No.1 ë§¤ë‹ˆì € ì†Œí”¼ì•„ìž…ë‹ˆë‹¤.",
	"ì‹ ì²­ê³¡": (e) => {
		let data = e.message.split(' ');
		let str = null;
		if ( data.length > 1 ) {
			if ( data[1] === "ì œê±°" ) {
				str = sbot.variable.global_stack.shift() + "ê°€ ì‹ ì²­ê³¡ì—ì„œ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.";
			} else {
				sbot.variable.global_stack.push(data.slice(1).join(' '));
				str = data.slice(1).join(' ') + "ê°€ ì‹ ì²­ê³¡ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.";
			}
		} else {
			str = sbot.variable.global_stack.join("\n");
		}
		return str;
	},
	"ì¶”ì²œê³¡": (e) => {
		axios({
			headers: {
				"User-Agent": "Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/WHALE) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Whale/1.5.72.5 Mobile Safari/537.36"
			},  
			url: "https://m.app.melon.com/cds/main/mobile4web/main_chartPaging.htm",
			params: {
				"startIndex": 1,
				"pageSize": 100, 
				"rowsCnt": 100 
			},  
			method: "get",
		}).then(res => {
			let ul = document.createElement('ul');
			ul.innerHTML = res.data;
			let result = Math.floor(Math.random() * 100)
			let one = ul.querySelectorAll('li')[result];
			let rank = one.querySelector('strong.rank').innerText.trim();
			let title = one.querySelector('p.title').innerText.trim();
			let name = one.querySelector('span.name').innerText.trim();

			let str = `ì†Œí”¼ì•„ì˜ ìŒì•… ì¶”ì²œì€~ ë©œë¡  ì‹¤ì‹œê°„ ${rank}ìœ„ì¸ ${name} - ${title} ìž…ë‹ˆë‹¤.`;
			sbot.send(str);
		});
	},
	"êµ­ì–´ì‚¬ì „": e => {
		if ( e.message.indexOf('êµ­ì–´ì‚¬ì „ ëª¨ë¥´') === 0 ) {
			return `ëª¨ë¥´[ì¸ì¹­ëŒ€ëª…ì‚¬] : 
1. ðŸ®ë‚˜ ë´„ðŸ¶ì˜ íšŒìž¥ì´ìž ë„ë¥¸ìžë¥¼ ì´ë¥´ëŠ” ë§
2. ì•„ë¬´ê²ƒë„ ëª¨ë¥´ê³  ëª¨ë“  ê±¸ ì•„ëŠ” ì‚¬ëžŒ.`;
		}
		axios({
			url: 'https://ko.dict.naver.com/api3/koko/search',
			params: {
				"query": e.message.replace("êµ­ì–´ì‚¬ì „ ", "")
			},
			method: 'get'
		}).then(res => {
			let searchResultMap = res.data.searchResultMap;
			if ( !searchResultMap ) return;

			let searchResultListMap = searchResultMap.searchResultListMap;
			if ( !searchResultListMap ) return;

			let WORD = searchResultListMap.WORD;
			if ( !WORD ) return;

			let items = WORD.items;
			if ( !items || items.length === 0 ) return;

			let rank1 = items[0];

			let word = rank1.handleEntry;
			let means = rank1.meansCollector[0];
			let mean = means.means[0];
			let pos = means.partOfSpeech;
			let value = document.createElement('div');
			value.innerHTML = mean.value;
			let vText = value.innerText;

			sbot.send(`${word}[${pos}]: ${vText}`);
		});
		return null;
	},
	"ë°”ë³´": e => `ë‚˜ëŠ” ${e.author.nickname}ë‹˜ ë°–ì— ëª¨ë¥´ëŠ” ë°”ë³´~`,
	"ë©ì²­ì´": "ë¬´ì§€ê°œë°˜ì‚¬~",
	"ë‚˜ì´": "SOPIAëŠ” 2019ë…„ 6ì›” 20ì¼ í”„ë¡œì íŠ¸ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.",
	"ê°œë°œìž": "ì†Œí”¼ì•„ì˜ ì•„ë¹ ëŠ” ê°œë°œìž ìœ¤êµ°ìž…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìŠ¤ì ‘ì„ í–ˆìœ¼ë©°, í”„ë¡œê·¸ëž¨ì€ ëª¨ë¥´ì—ê²Œ ì–‘ë„ ë˜ì—ˆìŠµë‹ˆë‹¤.",
	"ëª…ë ¹ì–´": e => Object.keys(sbot.variable.messages).join(', ')
}